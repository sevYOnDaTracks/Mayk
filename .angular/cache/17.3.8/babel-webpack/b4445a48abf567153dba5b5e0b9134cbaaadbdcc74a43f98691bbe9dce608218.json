{"ast":null,"code":"import _asyncToGenerator from \"/Users/sevyondatracks/Downloads/dexamhtml-300/dexamhtml-300/dexam-angular-landing-page/dexam-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { AngularFireStorage } from '@angular/fire/compat/storage';\nimport { AuthenticationService } from '../../landing/services/authentication.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/firestore\";\nimport * as i2 from \"@angular/fire/compat/storage\";\nimport * as i3 from \"../../landing/services/authentication.service\";\nexport let AdmissionService = /*#__PURE__*/(() => {\n  class AdmissionService {\n    constructor(firestore, storage, auth) {\n      this.firestore = firestore;\n      this.storage = storage;\n      this.auth = auth;\n    }\n    // Method to save form data\n    submitAdmissionForm(formData) {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        const currentUser = yield _this.auth.getCurrentUser();\n        if (currentUser) {\n          const userId = currentUser.uid;\n          yield _this.firestore.collection('admissions').doc(userId).set(formData);\n        }\n      })();\n    }\n    // Method to upload files\n    uploadDocument(file, userId, documentType) {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        const filePath = `admissions/${userId}/${documentType}`;\n        const fileRef = _this2.storage.ref(filePath);\n        yield _this2.storage.upload(filePath, file);\n        return fileRef.getDownloadURL().toPromise();\n      })();\n    }\n    static #_ = this.ɵfac = function AdmissionService_Factory(t) {\n      return new (t || AdmissionService)(i0.ɵɵinject(i1.AngularFirestore), i0.ɵɵinject(i2.AngularFireStorage), i0.ɵɵinject(i3.AuthenticationService));\n    };\n    static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: AdmissionService,\n      factory: AdmissionService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return AdmissionService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}